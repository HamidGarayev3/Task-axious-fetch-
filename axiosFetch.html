<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
    <!-- <button onclick="addCustomerAxios()" id="addCustomerAxios">Add New Customer With Axios</button>
    <button onclick="deleteCustomerAxios()" id="deleteCustomerAxios">Delete Customer With Axios</button>
    <button onclick="updateCustomerAxios()" id="updateCustomerAxios">Update Customer With Axios</button>
<br>
<br>
    <button onclick="addCustomerFetch()" id="addCustomerFetch">Add New Customer With Fetch</button>
    <button onclick="deleteCustomerFetch()" id="deleteCustomerFetch">Delete Customer With Fetch</button>
    <button onclick="updateCustomerFetch()" id="updateCustomerFetch">Update Customer With Fetch</button> -->

    <script>





function addCustomerAxios()
{
    let newCustomer={
    "companyName": "Around the Horn",
    "contactName": "Thomas Hardy",
    "contactTitle": "Sales Representative",
    "address": {
      "street": "120 Hanover Sq.",
      "city": "London",
      "region": "NULL",
      "postalCode": "WA1 1DP",
      "country": "UK",
      "phone": "(171) 555-7788"
    }
    }

    axios.post("https://northwind.vercel.app/api/customers",newCustomer)
    .then(res=>{
        console.log('Response',res)
        console.log('Response Body',res.data)
    })
}

function deleteCustomerAxios()
{
    axios.delete(`https://northwind.vercel.app/api/customers/${"BERGS"}`)
    .then(res=>{
        console.log('Response',res)
        console.log('Response Body',res.data)
    })
}

function updateCustomerAxios(id)
{
    let newCustomer=  {
    "companyName": "Blauer See Delikatessen",
    "contactName": "Hanna Moos",
    "contactTitle": "Sales Representative",
    "address": {
      "street": "Forsterstr. 57",
      "city": "Sumqayit",
      "region": "NULL",
      "postalCode": 68306,
      "country": "Germany",
      "phone": "0621-08460"
    }
  }
  axios.put(`https://northwind.vercel.app/api/customers/${id}`,newCustomer)
    .then(res=>{
        console.log('Response',res)
    })
}

function addCustomerFetch(){
    let newCustomer=  {
    "companyName": "Blauer See Delikatessen",
    "contactName": "Hanna Moos",
    "contactTitle": "Sales Representative",
    "address": {
      "street": "Forsterstr. 57",
      "city": "Sumqayit",
      "region": "NULL",
      "postalCode": 68306,
      "country": "Germany",
      "phone": "0621-08460"
    }
  }

  let postCustomer={
    method:'POST',
    headers:{
        'Content-type':'application/json'
    },
    body:JSON.stringify(newCustomer)
  }

  fetch("https://northwind.vercel.app/api/customers",postCustomer)
  .then(res=>res.json())
  .then(data=>{
    console.log(data)
  })
}


function deleteCustomerFetch(id){

    fetch(`https://northwind.vercel.app/api/customers/${id}`,{
        method:'DELETE'
    })
    .then(res=>{
        console.log(res)
    })


}

function updateCustomerFetch(id){
    let newCustomer=  {
    "companyName": "Blauer See Delikatessen",
    "contactName": "Hanna Moos",
    "contactTitle": "Sales Representative",
    "address": {
      "street": "Forsterstr. 57",
      "city": "Sumqayit",
      "region": "NULL",
      "postalCode": 68306,
      "country": "Germany",
      "phone": "0621-08460"
    }
  }
  let updateCustomer={
    method:'PUT',
    headers:{
        'Content-Type':'application/json'
    },
    body:JSON.stringify(newCustomer)
  }

  fetch(`https://northwind.vercel.app/api/customers/${id}`,updateCustomer)
  .then(res=>res.json())
  .then(data=>{
    console.log(data)
  })
}

function mostExpenciveProduct(){
     let prices=[{
        "unitPrice":0
     }]

     fetch("https://northwind.vercel.app/api/products")
     .then(res=>res.json())
     .then(data=>{
        let price=data.forEach(element =>prices.push(element.unitPrice,element.id) )
        // console.log(prices)
     })
     let expencive = prices.sort(function(a,b){
        return b.unitPrice-a.unitPrice
     })

     console.log(expencive[0])
}


function averageStock(){
     let stocks=[{
        "unitsInStock": 0,
     }]

     fetch("https://northwind.vercel.app/api/products")
     .then(res=>res.json())
     .then(data=>{
        let price=data.forEach(element =>stocks.push(element.unitsInStock) )
     })
let sum=0;
     for (let i = 0; i < stocks.length; i++) {
        sum+=stocks[i]
        
     }
     console.log(sum/stocks.length)
}


function startingWithC(){
     let startsC=[{
     }]

     fetch("https://northwind.vercel.app/api/products")
     .then(res=>res.json())
     .then(data=>{
        let price=data.forEach(element =>startsC.push(element.name) )
     })

     let startsWithC=startsC.startsWith('C')

     console.log(startsWithC)
}




    </script>
</body>
</html>